## ファン・ノイマン・アーキテクチャ

共通バスに接続された1個のプロセッサと1個のメモリバンクで構成されるコンピュータ
コントロールユニット(制御装置)がメモリから読み込んだ命令を
CPUが実行する。必要な計算はALU(算術論理演算装置)が行う。

現代のPCはこのアーキテクチャを持つPCから進化していった。

ただ、もちろん古いアーキテクチャなので欠点もある

- マルチタスクに対応していない(ある処理が遅いと後続の処理も詰まる)
- 誰もがどんな情報にもアクセスできる(操作レベルがレイヤ化されていないので事故が起こる)

昔はパーツごと(メモリやCPU)に会社があったわけではなかったので
すべてが同じ技術者チームで作られていた。
そのため、製品の仕様を満たせるものが作られれば十分だった。
互換性や個々のパーツの性能向上まで意識が回らない

## Intel 64 アーキテクチャ(x86_64, AMD64)

CPU Long mode は64bit modeのことか
legacy mode は32bit cpuとして動く 

### Memo

**プロセッサ**
実際にデータや命令を処理するハードウェア
狭義でCPUのことを指したりする

**レジスタ**
CPU内の記憶装置
計算結果を一時的に格納したり、CPUがメモリから取り出した値を
一時的に保持したりする。
CPUがメモリに問い合わせる時間を短くするために作られた。
容量は限られているので高価

汎用レジスタは64bitの記憶領域を持ち、r0 ... r15の名前を持つ
領域は選択することができる、例えば32bitとして使うなど

32bitの**書き込み**では64bitレジスタの上位32bitが0で埋められる

レジスタにも種類があり、CPUの演算状態などを記録するフラグレジスタがある
32bitのものはEFLAGSと呼ばれ、64bitのものはRFLAGSと呼ばれる
16bitはFLAGS

**セグメントレジスタ**
分割されたメモリブロックの参照先を保持している
レガシーと考えられているようだがまだ使われている

**プロテクションリング**
プロセス <-> CPU間においてプロセスがCPUに干渉できるレベルを階層化させたもの
CPUはプロテクションリングのいずれかのレベルに対応する
Ring0 ~ Ring3の4段階
Ring0はCPUにどんな命令も出せる。対応するのはOSなど
ソフトウェアレベルではRing3に対応させられる(好き勝手にCPUとやりとりさせないため)
リング1や2はOSでは使われていないことが多いらしい

**オペランド**
式を構成する要素のうち、演算子じゃない方のこと
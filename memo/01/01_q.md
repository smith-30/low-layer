## ハードウェアスタック

割り込みなどあるコンテキストを保存するときの一時保管場所(rsp、あくまでスタックのポインタ)を使い
スタックの名の通り、要素を積むpushと取り出すpopの仕組みを既存のメモリに対して実装したもの

エミュレーション - あるものを模倣した動きをするもの
ここでは、ハードウェアスタックは既存のメモリ内のスタックのエミュレーションだということを言っていた
なので自分が書いた解釈は近いと言えるだろう。
メモリ(ハードウェア)にスタックを実装したものなので
ただ、rspはスタックのポインタを持つ


## スタックは空になるか
アドレス0は保持されるので空になることはない
-> スタックの数がわからないので空になるかもわからない
   問題としてナンセンス

## スタック内の要素を数えられるか
数えられない


**コンテキスト**
タスク, プロセスによって使用されるデータの最小セットのこと
タスクが中断する場合(割り込みや例外?)、再開時にタスクを継続するため
実行中のタスクの内容を保存しておく必要がある

そのためにプログラムの実行中の内容を保存するために仕様するのがコンテキスト
割り込みが発生するとプロセッサはタスクを中断してコンテキストを保存し
割り込みハンドラが動作する。**コンテキストが小さいほど待ち時間は小さい**
実行単位は小さい方が効率的ということか。

**割り込みハンドラ**
OSやデバイスドライバ固有のコールバックルーチン
割り込み原因によってそれぞれ異なるものが存在している

## 割り込み
プログラムの制御の流れを任意のタイミングで即座に切り替えること
割り込みが発生するとCPUはその状況を処理するために
コールバックルーチンを発行する

## フォン・ノイマンノイマンモデルの主な問題点で現在の拡張でかいけつしていること

メモリアクセスの最適化 -> レジスタ, キャッシュ
CPUが誰でも操作できてしまう -> プロテクションリングによるCPUのアクセス権限設定
プログラムが隔離されていなく、干渉する恐れ -> 仮想メモリをプロセスごとに割り当てる

## intel64の主な汎用レジスタ

r0 ~ r15 それぞれ64bit
